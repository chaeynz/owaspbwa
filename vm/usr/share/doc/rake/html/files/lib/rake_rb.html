<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <title>File: rake.rb</title>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
    <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />

    <script language="JavaScript" type="text/javascript">
    // <![CDATA[

        function toggleSource( id )
        {
          var elem
          var link

          if( document.getElementById )
          {
            elem = document.getElementById( id )
            link = document.getElementById( "l_" + id )
          }
          else if ( document.all )
          {
            elem = eval( "document.all." + id )
            link = eval( "document.all.l_" + id )
          }
          else
            return false;

          if( elem.style.display == "block" )
          {
            elem.style.display = "none"
            link.innerHTML = "show source"
          }
          else
          {
            elem.style.display = "block"
            link.innerHTML = "hide source"
          }
        }

        function openCode( url )
        {
          window.open( url, "SOURCE_CODE", "width=400,height=400,scrollbars=yes" )
        }
      // ]]>
    </script>
  </head>

  <body>
  <table border='0' cellpadding='0' cellspacing='0' width="100%" class='banner'>
  <tr><td>
    <table width="100%" border='0' cellpadding='0' cellspacing='0'><tr>
      <td class="file-title" colspan="2"><span class="file-title-prefix">File</span><br />rake.rb</td>
      <td align="right">
        <table border='0' cellspacing="0" cellpadding="2">
          <tr>
            <td>Path:</td>
            <td>lib/rake.rb
            </td>
          </tr>
          <tr>
            <td>Modified:</td>
            <td>Fri May 15 18:12:37 +0000 2009</td>
          </tr>
        </table>
      </td></tr>
    </table>
  </td></tr>
</table><br>
 <!-- banner header -->

  <div id="bodyContent">
      <div id="content">


  <div class="sectiontitle">Required Files</div>
  <ul>
  <li>rbconfig</li>
  <li>fileutils</li>
  <li>singleton</li>
  <li>monitor</li>
  <li>optparse</li>
  <li>ostruct</li>
  <li>rake/win32</li>
  <li>rake/classic_namespace</li>
  </ul>


  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="#M000008">desc</a></li>
  <li><a href="#M000004">directory</a></li>
  <li><a href="#M000002">file</a></li>
  <li><a href="#M000003">file_create</a></li>
  <li><a href="#M000009">import</a></li>
  <li><a href="#M000005">multitask</a></li>
  <li><a href="#M000006">namespace</a></li>
  <li><a href="#M000007">rule</a></li>
  <li><a href="#M000001">task</a></li>
  </ul>

<div class="sectiontitle">Included Modules</div>
<ul>
  <li><a href="../../classes/RakeFileUtils.html">RakeFileUtils</a></li>
</ul>



  <div class="sectiontitle">Constants</div>
  <table border='0' cellpadding='5'>
  <tr valign='top'>
    <td class="attr-name">RAKEVERSION</td>
    <td>=</td>
    <td class="attr-value">'0.8.7'</td>
  </tr>
  <tr valign='top'>
    <td>&nbsp;</td>
    <td colspan="2" class="attr-desc"><pre>
 Copyright 2003, 2004, 2005, 2006, 2007, 2008 by Jim Weirich (jim@weirichhouse.org)

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the &quot;Software&quot;), to
 deal in the Software without restriction, including without limitation the
 rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 sell copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 IN THE SOFTWARE.
</pre>

++

<pre>
 = Rake -- Ruby Make

 This is the main file for the Rake application.  Normally it is referenced
 as a library via a require statement, but it can be distributed
 independently as an application.
</pre>
</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">FileList</td>
    <td>=</td>
    <td class="attr-value">Rake::FileList</td>
  </tr>
  <tr valign='top'>
    <td>&nbsp;</td>
    <td colspan="2" class="attr-desc">
Alias FileList to be available at the top level.

</td>
  </tr>
  </table>


<div class="sectiontitle">Public Instance methods</div>
<div class="method">
  <div class="title">
    <a name="M000008"></a><b>desc</b>(description)
  </div>
  <div class="description">
  <p>
Describe the next rake <a href="rake_rb.html#M000001">task</a>.
</p>
<p>
Example:
</p>
<pre>
  desc &quot;Run the Unit Tests&quot;
  task :test =&gt; [:build]
    runtests
  end
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000008_source')" id="l_M000008_source">show source</a> ]</p>
  <div id="M000008_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rake.rb, line 932</span>
932: <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">desc</span>(<span class="ruby-identifier">description</span>)
933:   <span class="ruby-constant">Rake</span>.<span class="ruby-identifier">application</span>.<span class="ruby-identifier">last_description</span> = <span class="ruby-identifier">description</span>
934: <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000004"></a><b>directory</b>(dir)
  </div>
  <div class="description">
  <p>
Declare a set of files tasks to create the given directories on demand.
</p>
<p>
Example:
</p>
<pre>
  directory &quot;testdata/doc&quot;
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000004_source')" id="l_M000004_source">show source</a> ]</p>
  <div id="M000004_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rake.rb, line 879</span>
879: <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">directory</span>(<span class="ruby-identifier">dir</span>)
880:   <span class="ruby-constant">Rake</span>.<span class="ruby-identifier">each_dir_parent</span>(<span class="ruby-identifier">dir</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">d</span><span class="ruby-operator">|</span>
881:     <span class="ruby-identifier">file_create</span> <span class="ruby-identifier">d</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span>
882:       <span class="ruby-identifier">mkdir_p</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">name</span> <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-identifier">t</span>.<span class="ruby-identifier">name</span>)
883:     <span class="ruby-keyword kw">end</span>
884:   <span class="ruby-keyword kw">end</span>
885: <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000002"></a><b>file</b>(*args, &amp;block)
  </div>
  <div class="description">
  <p>
Declare a <a href="rake_rb.html#M000002">file</a> <a
href="rake_rb.html#M000001">task</a>.
</p>
<p>
Example:
</p>
<pre>
  file &quot;config.cfg&quot; =&gt; [&quot;config.template&quot;] do
    open(&quot;config.cfg&quot;, &quot;w&quot;) do |outfile|
      open(&quot;config.template&quot;) do |infile|
        while line = infile.gets
          outfile.puts line
        end
      end
    end
 end
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000002_source')" id="l_M000002_source">show source</a> ]</p>
  <div id="M000002_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rake.rb, line 864</span>
864: <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">file</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
865:   <span class="ruby-constant">Rake</span><span class="ruby-operator">::</span><span class="ruby-constant">FileTask</span>.<span class="ruby-identifier">define_task</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
866: <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000003"></a><b>file_create</b>(args, &amp;block)
  </div>
  <div class="description">
  <p>
Declare a <a href="rake_rb.html#M000002">file</a> creation <a
href="rake_rb.html#M000001">task</a>. (Mainly used for the <a
href="rake_rb.html#M000004">directory</a> command).
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000003_source')" id="l_M000003_source">show source</a> ]</p>
  <div id="M000003_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rake.rb, line 870</span>
870: <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">file_create</span>(<span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
871:   <span class="ruby-constant">Rake</span><span class="ruby-operator">::</span><span class="ruby-constant">FileCreationTask</span>.<span class="ruby-identifier">define_task</span>(<span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
872: <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000009"></a><b>import</b>(*fns)
  </div>
  <div class="description">
  <p>
Import the partial Rakefiles <tt>fn</tt>. Imported files are loaded
<em>after</em> the current <a href="rake_rb.html#M000002">file</a> is
completely loaded. This allows the <a
href="rake_rb.html#M000009">import</a> statement to appear anywhere in the
importing <a href="rake_rb.html#M000002">file</a>, and yet allowing the
imported files to depend on objects defined in the importing <a
href="rake_rb.html#M000002">file</a>.
</p>
<p>
A common use of the <a href="rake_rb.html#M000009">import</a> statement is
to include files containing dependency declarations.
</p>
<p>
See also the &#8212;rakelibdir command line option.
</p>
<p>
Example:
</p>
<pre>
  import &quot;.depend&quot;, &quot;my_rules&quot;
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000009_source')" id="l_M000009_source">show source</a> ]</p>
  <div id="M000009_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rake.rb, line 949</span>
949: <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">import</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">fns</span>)
950:   <span class="ruby-identifier">fns</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">fn</span><span class="ruby-operator">|</span>
951:     <span class="ruby-constant">Rake</span>.<span class="ruby-identifier">application</span>.<span class="ruby-identifier">add_import</span>(<span class="ruby-identifier">fn</span>)
952:   <span class="ruby-keyword kw">end</span>
953: <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000005"></a><b>multitask</b>(args, &amp;block)
  </div>
  <div class="description">
  <p>
Declare a <a href="rake_rb.html#M000001">task</a> that performs its
prerequisites in parallel. Multitasks does <b>not</b> guarantee that its
prerequisites will execute in any given order (which is obvious when you
think about it)
</p>
<p>
Example:
</p>
<pre>
  multitask :deploy =&gt; [:deploy_gem, :deploy_rdoc]
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000005_source')" id="l_M000005_source">show source</a> ]</p>
  <div id="M000005_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rake.rb, line 894</span>
894: <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">multitask</span>(<span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
895:   <span class="ruby-constant">Rake</span><span class="ruby-operator">::</span><span class="ruby-constant">MultiTask</span>.<span class="ruby-identifier">define_task</span>(<span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
896: <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000006"></a><b>namespace</b>(name=nil, &amp;block)
  </div>
  <div class="description">
  <p>
Create a new rake <a href="rake_rb.html#M000006">namespace</a> and use it
for evaluating the given block. Returns a NameSpace object that can be used
to lookup tasks defined in the <a
href="rake_rb.html#M000006">namespace</a>.
</p>
<p>
E.g.
</p>
<pre>
  ns = namespace &quot;nested&quot; do
    task :run
  end
  task_run = ns[:run] # find :run in the given namespace.
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000006_source')" id="l_M000006_source">show source</a> ]</p>
  <div id="M000006_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rake.rb, line 909</span>
909: <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">namespace</span>(<span class="ruby-identifier">name</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
910:   <span class="ruby-constant">Rake</span>.<span class="ruby-identifier">application</span>.<span class="ruby-identifier">in_namespace</span>(<span class="ruby-identifier">name</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
911: <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000007"></a><b>rule</b>(*args, &amp;block)
  </div>
  <div class="description">
  <p>
Declare a <a href="rake_rb.html#M000007">rule</a> for auto-tasks.
</p>
<p>
Example:
</p>
<pre>
 rule '.o' =&gt; '.c' do |t|
   sh %{cc -o #{t.name} #{t.source}}
 end
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000007_source')" id="l_M000007_source">show source</a> ]</p>
  <div id="M000007_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rake.rb, line 920</span>
920: <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rule</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
921:   <span class="ruby-constant">Rake</span><span class="ruby-operator">::</span><span class="ruby-constant">Task</span>.<span class="ruby-identifier">create_rule</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
922: <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000001"></a><b>task</b>(*args, &amp;block)
  </div>
  <div class="description">
  <p>
Declare a basic <a href="rake_rb.html#M000001">task</a>.
</p>
<p>
Example:
</p>
<pre>
  task :clobber =&gt; [:clean] do
    rm_rf &quot;html&quot;
  end
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000001_source')" id="l_M000001_source">show source</a> ]</p>
  <div id="M000001_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rake.rb, line 846</span>
846: <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">task</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
847:   <span class="ruby-constant">Rake</span><span class="ruby-operator">::</span><span class="ruby-constant">Task</span>.<span class="ruby-identifier">define_task</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
848: <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>

    </body>
</html>