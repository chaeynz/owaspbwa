<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">

<html>

<head>

<meta http-equiv="content-type" content="text/html; charset=iso-8859-1">

<title>Debian GNU/Linux Java FAQ. - Java Plugins for Browsers</title>

<link href="index.html" rel="start">
<link href="ch8.html" rel="prev">
<link href="ch10.html" rel="next">
<link href="index.html#contents" rel="contents">
<link href="index.html#copyright" rel="copyright">
<link href="ch1.html" rel="chapter" title="1 Introduction">
<link href="ch2.html" rel="chapter" title="2 Introduction to Java">
<link href="ch-debian-java-woody.html" rel="chapter" title="3 Status of Java in Debian GNU/Linux 3.0 (Woody)">
<link href="ch-debian-java-sarge.html" rel="chapter" title="4 Status of Java in Debian GNU/Linux 3.1 (Sarge)">
<link href="ch-debian-java-etch.html" rel="chapter" title="5 Status of Java in Debian GNU/Linux 4.0 (Etch)">
<link href="ch6.html" rel="chapter" title="6 Java Development">
<link href="ch7.html" rel="chapter" title="7 Java Compilers">
<link href="ch8.html" rel="chapter" title="8 Java Virtual Machines (JVM)">
<link href="ch-browser-java.html" rel="chapter" title="9 Java Plugins for Browsers">
<link href="ch10.html" rel="chapter" title="10 Java Servlets">
<link href="ch11.html" rel="chapter" title="11 Java Policy">
<link href="ch12.html" rel="chapter" title="12 Other Java alternatives for Debian">
<link href="apA.html" rel="appendix" title="A Older Debian GNU/Linux versions">
<link href="ch1.html#s1.1" rel="section" title="1.1 Introduction to this FAQ">
<link href="ch1.html#s1.2" rel="section" title="1.2 Location of this FAQ">
<link href="ch1.html#s-bugs" rel="section" title="1.3 Sending bugs on this FAQ">
<link href="ch1.html#s-moreinfo" rel="section" title="1.4 Complementary information">
<link href="ch1.html#s-pending" rel="section" title="1.5 Uncovered issues">
<link href="ch2.html#s2.1" rel="section" title="2.1 What is Java?">
<link href="ch2.html#s2.2" rel="section" title="2.2 Why would I be interested in Java?">
<link href="ch2.html#s2.3" rel="section" title="2.3 What is a JIT?">
<link href="ch2.html#s2.4" rel="section" title="2.4 Where can I read more about Java?">
<link href="ch2.html#s2.5" rel="section" title="2.5 Where can I ask questions about Java on Debian?">
<link href="ch-debian-java-woody.html#s3.1" rel="section" title="3.1 Where is Debian Java going?">
<link href="ch-debian-java-woody.html#s3.2" rel="section" title="3.2 Is there a Java1 compiler (.java to .class)?">
<link href="ch-debian-java-woody.html#s3.3" rel="section" title="3.3 Is there a Java1 JVM or JIT?">
<link href="ch-debian-java-woody.html#s3.4" rel="section" title="3.4 Is there a Java1 native compiler?">
<link href="ch-debian-java-woody.html#s3.5" rel="section" title="3.5 Does Debian have Java2 foundation libraries?">
<link href="ch-debian-java-woody.html#s3.6" rel="section" title="3.6 Is there a Java Debugger (jdb equivalent)?">
<link href="ch-debian-java-woody.html#s3.7" rel="section" title="3.7 Is there an Appletviewer tool?">
<link href="ch-debian-java-woody.html#s3.8" rel="section" title="3.8 Is there a Jar tool?">
<link href="ch-debian-java-woody.html#s3.9" rel="section" title="3.9 Is there a Javadoc tool?">
<link href="ch-debian-java-woody.html#s3.10" rel="section" title="3.10 Does Debian do Enterprise Java Beans (EJB)?">
<link href="ch-debian-java-woody.html#s3.11" rel="section" title="3.11 What is JAIN?">
<link href="ch-debian-java-woody.html#s3.12" rel="section" title="3.12 What is Jini?">
<link href="ch-debian-java-woody.html#s3.13" rel="section" title="3.13 Is there a full list of packages?">
<link href="ch-debian-java-sarge.html#s4.1" rel="section" title="4.1 Are there many changes?">
<link href="ch-debian-java-etch.html#s5.1" rel="section" title="5.1 Which Java package are currently in main?">
<link href="ch-debian-java-etch.html#s5.2" rel="section" title="5.2 What keeps Java packages out of main?">
<link href="ch-debian-java-etch.html#s5.3" rel="section" title="5.3 What can I expect in future releases?">
<link href="ch6.html#s6.1" rel="section" title="6.1 What full-fledged Java development platforms are available in Debian?">
<link href="ch6.html#s-free" rel="section" title="6.2 What free platforms are there and how can I contribute?">
<link href="ch6.html#s-license-concerns" rel="section" title="6.3 Questions on platforms and license concerns">
<link href="ch6.html#s-sect:dfsg-compliant-gui" rel="section" title="6.4 How can I make a DFSG compliant Java GUI program?">
<link href="ch6.html#s6.5" rel="section" title="6.5 Making Debian packages for Java progams.">
<link href="ch7.html#s7.1" rel="section" title="7.1 What Java compilers are available in Debian?">
<link href="ch8.html#s8.1" rel="section" title="8.1 What jvms work in Debian?">
<link href="ch8.html#s8.2" rel="section" title="8.2 What free JVMs are available in Debian?">
<link href="ch8.html#s8.3" rel="section" title="8.3 What API do these JVMs provide?">
<link href="ch8.html#s8.4" rel="section" title="8.4 Are there known problems?">
<link href="ch8.html#s8.5" rel="section" title="8.5 Do I need a JVM to run a Java program in Debian?">
<link href="ch-browser-java.html#s9.1" rel="section" title="9.1 Can I use any JVM as a Java Plugin?">
<link href="ch-browser-java.html#s-konqueror-java" rel="section" title="9.2 Can I use Java in Konqueror?">
<link href="ch-browser-java.html#s-netscape-java" rel="section" title="9.3 Can I use Java in Netscape 6.x/7.x?">
<link href="ch-browser-java.html#s9.4" rel="section" title="9.4 Can I use Java in Mozilla?">
<link href="ch10.html#s10.1" rel="section" title="10.1 How can I make Java servlets work?">
<link href="ch10.html#s10.2" rel="section" title="10.2 Do servlets work with kaffe?">
<link href="ch10.html#s10.3" rel="section" title="10.3 Do I need non-free Java in order to run servlets?">
<link href="ch11.html#s11.1" rel="section" title="11.1 Is there a Java policy for Debian?">
<link href="ch11.html#s11.2" rel="section" title="11.2 Are there holes in the Java Policy?">
<link href="ch12.html#s-blackdown-pack" rel="section" title="12.1 How can I get Debian packages from Blackdown?">
<link href="ch12.html#s12.2" rel="section" title="12.2 How can I integrate Sun's J2SE SDK with Debian 3.1?">
<link href="ch12.html#s12.3" rel="section" title="12.3 How can I integrate Sun's J2SE SDK with Debian 3.0?">
<link href="ch12.html#s12.4" rel="section" title="12.4 Java programs not yet available on Debian">
<link href="apA.html#sA.1" rel="section" title="A.1 Debian 2.2 'potato'">
<link href="apA.html#sA.2" rel="section" title="A.2 Debian 2.1 'slink'">
<link href="apA.html#sA.3" rel="section" title="A.3 Debian 2.0 'hamm'">
<link href="apA.html#sA.4" rel="section" title="A.4 Debian 1.3.1 'bo'">
<link href="ch-debian-java-woody.html#s3.4.1" rel="subsection" title="3.4.1 Java2 native compiler">
<link href="ch-debian-java-woody.html#s3.6.1" rel="subsection" title="3.6.1 What free edit-interactive/graphical debugging tools are available on Debian?">
<link href="ch-debian-java-woody.html#s3.6.2" rel="subsection" title="3.6.2 Known problems">
<link href="ch6.html#s-java56" rel="subsection" title="6.3.1 Java 5 and 6">
<link href="ch6.html#s6.3.2" rel="subsection" title="6.3.2 Sun's OpenJDK">
<link href="ch6.html#s6.3.3" rel="subsection" title="6.3.3 Java 2 SE (aka JDK1.2)">
<link href="ch6.html#s6.3.3.1" rel="subsection" title="6.3.3.1 Why is Sun's Java 2 SE (aka jdk 1.2) not available?">
<link href="ch6.html#s-scsl" rel="subsection" title="6.3.3.2 What are the problems with Suns' new license?">
<link href="ch6.html#s6.3.3.3" rel="subsection" title="6.3.3.3 What is the SCSL?">
<link href="ch6.html#s6.3.3.4" rel="subsection" title="6.3.3.4 Can I use jdk1.2 while working with the free Java implementations?">
<link href="ch6.html#s6.3.3.5" rel="subsection" title="6.3.3.5 Why is (some) free software not implementing Java2?">
<link href="ch6.html#s-ibm-jdk" rel="subsection" title="6.3.4 IBM's Developer Kit for Linux">
<link href="ch6.html#s6.3.4.1" rel="subsection" title="6.3.4.1 Can Debian distribute IBM's jdk?">
<link href="ch6.html#s6.3.4.2" rel="subsection" title="6.3.4.2 Is it possible to obtain a licence for Debian?">
<link href="ch6.html#s6.3.5" rel="subsection" title="6.3.5 JRE">
<link href="ch6.html#s6.3.5.1" rel="subsection" title="6.3.5.1 Can Debian distribute JRE?">
<link href="ch6.html#s6.3.6" rel="subsection" title="6.3.6 GPL or LGPL?">
<link href="ch6.html#s6.4.1" rel="subsection" title="6.4.1 Do swing-based programs work in Debian?">
<link href="ch6.html#s6.5.1" rel="subsection" title="6.5.1 Can the package go into main?">
<link href="ch6.html#s6.5.2" rel="subsection" title="6.5.2 What virtual packages could I use?">
<link href="ch6.html#s6.5.3" rel="subsection" title="6.5.3 Is there a good example Debian package?">
<link href="ch6.html#s6.5.4" rel="subsection" title="6.5.4 What tools are available to make maintaining a Java packages easier?">
<link href="ch8.html#s8.5.1" rel="subsection" title="8.5.1 How do I compile to native code?">
<link href="ch8.html#s8.5.2" rel="subsection" title="8.5.2 Are there any successes using this approach?">
<link href="ch8.html#s8.5.3" rel="subsection" title="8.5.3 Are there any problems with this approach?">
<link href="ch8.html#s8.5.4" rel="subsection" title="8.5.4 Does these work for architectures different than i386?">
<link href="ch12.html#s-swing-run" rel="subsection" title="12.1.1 Making swing work in Debian">
<link href="ch12.html#s12.1.2" rel="subsection" title="12.1.2 Making Java 2 work in Debian">
<link href="apA.html#sA.2.1" rel="subsection" title="A.2.1 I've installed the latest jde package...what I have to do to let Emacs enter jde-mode automatically when loading a Java source file?">

</head>

<body>

<p><a name="ch-browser-java"></a></p>
<hr>

<p>
[ <a href="ch8.html">previous</a> ]
[ <a href="index.html#contents">Contents</a> ]
[ <a href="ch1.html">1</a> ]
[ <a href="ch2.html">2</a> ]
[ <a href="ch-debian-java-woody.html">3</a> ]
[ <a href="ch-debian-java-sarge.html">4</a> ]
[ <a href="ch-debian-java-etch.html">5</a> ]
[ <a href="ch6.html">6</a> ]
[ <a href="ch7.html">7</a> ]
[ <a href="ch8.html">8</a> ]
[ 9 ]
[ <a href="ch10.html">10</a> ]
[ <a href="ch11.html">11</a> ]
[ <a href="ch12.html">12</a> ]
[ <a href="apA.html">A</a> ]
[ <a href="ch10.html">next</a> ]
</p>

<hr>

<h1>
Debian GNU/Linux Java FAQ.
<br>Chapter 9 - Java Plugins for Browsers
</h1>

<hr>

<p>
The following section describes how you can use Java in web browsers in order
to be able to run <samp>applets</samp> published in web servers.
</p>

<hr>

<h2><a name="s9.1"></a>9.1 Can I use any JVM as a Java Plugin?</h2>

<p>
That is a tricky question.  My answer would be: &quot;No, but it doesn't hurt
trying&quot; (and don't forget to forward us your findings so we can update
this document)
</p>

<hr>

<h2><a name="s-konqueror-java"></a>9.2 Can I use Java in Konqueror?</h2>

<p>
Yes, in Konqueror 3.1.1, you Settings-&gt;Configure Konqueror.  The opened
Control Module has a Java&amp;JavaScript section where you can enter the
location of your JVM.  The configuration should look like this:
</p>
<ul>
<li>
<p>
Selected &quot;Enable Java globally&quot;
</p>
</li>
</ul>
<ul>
<li>
<p>
Selected &quot;Show Java console&quot;
</p>
</li>
</ul>
<ul>
<li>
<p>
&quot;Path to Java executable&quot; has /usr/bin/java
</p>
</li>
</ul>

<p>
As it says <code>/usr/bin/java</code> it relies on the
<code>update-alternatives</code> mechanism to point to a JVM that can serve as
a plugin.  If you have Sun's J2RE installed, &quot;Path to Java&quot; might
also say something like <code>/usr/local/lib/j2sdk1.4.2/jre/bin/java</code>
</p>

<hr>

<h2><a name="s-netscape-java"></a>9.3 Can I use Java in Netscape 6.x/7.x?</h2>

<p>
Yes.  Make a symbolic link in the <code>/path/to/netscape/plugins</code>
directory to the Java Plugin as can be found in Sun's J2RE:
</p>

<pre>
     /usr/local/netscape/plugins $ ls -la
     total 960
     drwxr-sr-x    2 root     staff        4096 Apr 30 09:46 .
     drwxr-sr-x    9 root     staff        4096 Apr  8 20:26 ..
     -rw-r--r--    1 root     staff        2363 Feb  8 07:47 ShockwaveFlash.class
     -rw-r--r--    1 root     staff      946108 Feb  8 07:47 libflashplayer.so
     lrwxrwxrwx    1 root     staff          64 Apr 30 09:46 libjavaplugin_oji.so -&gt; /usr/local/lib/j2sdk1.4.2/jre/plugin/i386/ns610-gcc32/libjavaplugin_oji.so
     -rwxr-xr-x    1 root     staff       19396 Feb  8 07:47 libnullplugin.so
</pre>

<p>
If you have Blackdown's J2RE installed the link has to be made to
<code>/usr/lib/j2se/1.4/jre/plugin/i386/mozilla/javaplugin_oji.so</code>.
Other possible locations include
<code>/usr/java/j2re1.4.2_04/plugin/i386/ns610-gcc32/libjavaplugin_oji.so</code>,
you will need to locate this plugin depending on your installation.
</p>

<hr>

<h2><a name="s9.4"></a>9.4 Can I use Java in Mozilla?</h2>

<p>
Yes, the mechanism is identical to that of Netscape.  However, the plugin
directory in this case is <code>/usr/lib/mozilla/plugins</code>.  There is
additional information on how to install Java in Mozilla at the <code><a
href="http://plugindoc.mozdev.org/faqs/java.html">Java FAQ at
Mozilla</a></code>
</p>

<p>
There might be some issues depending on your version.  Mozilla 1.4 and later
(as well as Mozilla Firebox) is compiled with gcc 3.x and needs a compatible
version of the plugin, as provided by JRE 1.4.2 or later.  If you find issues
you will need to debug yourself.  A common problem is that the library might
not be binary compatible if it was compiled with a different <code>gcc</code>
version.  Some gory details on how to debug this are described below
(contributed by Tim Freeman and included in the <code><a
href="http://www.linuks.mine.nu/debian-faq-wiki/MiscellaneousPage">#debian faq
wiki</a></code>)
</p>

<p>
The first problem is that in version 1.6-5 of the <code>mozilla-browser</code>
package, at least, <code>/usr/bin/mozilla</code> is a shell script that
redirects errors to <code>/dev/null</code>.  This is described in <code><a
href="http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=178721">bug
178271</a></code>
</p>

<p>
To deal with this, make a copy of <code>/usr/bin/mozilla</code> and edit out
the redirects of file descriptor 2 to /dev/null and run the copy.  You may see
something like this on Mozilla's standard error when it starts:
</p>

<pre>
     LoadPlugin: failed to initialize shared library /usr/lib/j2se/1.3/jre/plugin/i386/mozilla/javaplugin_oji.so [/usr/lib/j2se/1.3/jre/plugin/i386/mozilla/javaplugin_oji.so: undefined symbol: __vt_17nsGetServiceByCID]
</pre>

<p>
This symptom indicates that your Java was compiled with an old version of GCC,
but your Mozilla was compiled with a newer version (post gcc 3.0.3), and the
two are binary incompatible.  This is the case for version 1.3.1.02b-2 of the
<code>j2re1.3</code> package from <code><a
href="ftp://ftp.tux.org">ftp://ftp.tux.org</a></code>, at least.
</p>

<p>
If you're confronted with this symptom, the fix is to get a Java runtime that
was compiled with a more recent gcc.  There are several available; one is
<code><a
href="ftp://ftp.tux.org/pub/java/JDK-1.4.2/i386/01/j2re-1.4.2-01-linux-i586.bin">ftp://ftp.tux.org/pub/java/JDK-1.4.2/i386/01/j2re-1.4.2-01-linux-i586.bin</a></code>.
Install that and change the libjavaplugin_oji.so link to point into the newly
installed Java runtime.
</p>

<p>
If you wish to confirm the diagnosis before attempting the above treatment, you
can do it as follows.  Confirm that your Java was compiled with the old gcc by
giving the command:
</p>

<pre>
           c++filt -s gnu __vt_17nsGetServiceByCID
</pre>

<p>
and getting the result:
</p>

<pre>
            nsGetServiceByCID virtual table
</pre>

<p>
To confirm that your mozilla was compiled with the new gcc, you can find its
version of the symbol by giving the command:
</p>

<pre>
        objdump -R /usr/lib/libxpcom.so | grep nsGetServiceByCID
</pre>

<p>
and you'll see a line like:
</p>

<pre>
          000ec114 R_386_GLOB_DAT _ZTV17nsGetServiceByCID
</pre>

<p>
Then you demangle that with the command:
</p>

<pre>
         c++filt -s gnu-v3 _ZTV17nsGetServiceByCID
</pre>

<p>
and get this eminently reasonable output:
</p>

<pre>
         vtable for nsGetServiceByCID
</pre>

<p>
The important thing is that the two calls to c++filt both succeeded but they
were told to use different demangling rules, &quot;gnu&quot; for the first and
&quot;gnu-v3&quot; for the second.  If this all checks out, then you should
fetch a newer Java runtime as described above.
</p>

<hr>

<p>
[ <a href="ch8.html">previous</a> ]
[ <a href="index.html#contents">Contents</a> ]
[ <a href="ch1.html">1</a> ]
[ <a href="ch2.html">2</a> ]
[ <a href="ch-debian-java-woody.html">3</a> ]
[ <a href="ch-debian-java-sarge.html">4</a> ]
[ <a href="ch-debian-java-etch.html">5</a> ]
[ <a href="ch6.html">6</a> ]
[ <a href="ch7.html">7</a> ]
[ <a href="ch8.html">8</a> ]
[ 9 ]
[ <a href="ch10.html">10</a> ]
[ <a href="ch11.html">11</a> ]
[ <a href="ch12.html">12</a> ]
[ <a href="apA.html">A</a> ]
[ <a href="ch10.html">next</a> ]
</p>

<hr>

<p>
Debian GNU/Linux Java FAQ.
</p>

<address>
$Revision: 1.57 $ 20 January 2010Sunday, 4th November<br>
<br>
Javier Fernández-Sanguino Peña <code><a href="mailto:jfs@debian.org">jfs@debian.org</a></code><br>
<br>
</address>
<hr>

</body>

</html>

