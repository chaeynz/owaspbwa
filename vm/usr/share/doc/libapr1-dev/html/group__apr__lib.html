<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Apache Portable Runtime: General Purpose Library Routines</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.2 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>General Purpose Library Routines<br/>
<small>
[<a class="el" href="group___a_p_r.html">Apache Portability Runtime library</a>]</small>
</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structapr__vformatter__buff__t.html">apr_vformatter_buff_t</a></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__lib.html#ga0c9dd98f46b90b5bcd4cbf75e252d0da">HUGE_STRING_LEN</a>&nbsp;&nbsp;&nbsp;8192</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__lib.html#gaa3b0264aadbd9f8d805252fb1ca1cd0e">apr_killpg</a>(x, y)&nbsp;&nbsp;&nbsp;(killpg ((x), (y)))</td></tr>
<tr><td colspan="2"><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef struct <br class="typebreak"/>
<a class="el" href="structapr__vformatter__buff__t.html">apr_vformatter_buff_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__lib.html#ga5e9986deebda40f2d1cf8364fa03c3c5">apr_vformatter_buff_t</a></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__lib.html#ga241e929df23aede34eb3f2651cf56bc9">apr_filepath_name_get</a> (const char *pathname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__lib.html#gad2cd3594aeaafd45931d1034965f48c1">apr_vformatter</a> (int(*flush_func)(<a class="el" href="structapr__vformatter__buff__t.html">apr_vformatter_buff_t</a> *b), <a class="el" href="structapr__vformatter__buff__t.html">apr_vformatter_buff_t</a> *c, const char *fmt, va_list ap)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaf76ee4543247e9fb3f3546203e590a6c">apr_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__lib.html#ga377e0677598745769ec6f80fecf8f859">apr_password_get</a> (const char *prompt, char *pwbuf, apr_size_t *bufsize)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>This is collection of oddballs that didn't fit anywhere else, and might move to more appropriate headers with the release of APR 1.0. </p>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="gaa3b0264aadbd9f8d805252fb1ca1cd0e"></a><!-- doxytag: member="apr_lib.h::apr_killpg" ref="gaa3b0264aadbd9f8d805252fb1ca1cd0e" args="(x, y)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define apr_killpg</td>
          <td>(</td>
          <td class="paramtype">x, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">y&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(killpg ((x), (y)))</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>apr_killpg Small utility macros to make things easier to read. Not usually a goal, to be sure.. </p>

</div>
</div>
<a class="anchor" id="ga0c9dd98f46b90b5bcd4cbf75e252d0da"></a><!-- doxytag: member="apr_lib.h::HUGE_STRING_LEN" ref="ga0c9dd98f46b90b5bcd4cbf75e252d0da" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HUGE_STRING_LEN&nbsp;&nbsp;&nbsp;8192</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>A constant representing a 'large' string. </p>

</div>
</div>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="ga5e9986deebda40f2d1cf8364fa03c3c5"></a><!-- doxytag: member="apr_lib.h::apr_vformatter_buff_t" ref="ga5e9986deebda40f2d1cf8364fa03c3c5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structapr__vformatter__buff__t.html">apr_vformatter_buff_t</a> <a class="el" href="structapr__vformatter__buff__t.html">apr_vformatter_buff_t</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structapr__vformatter__buff__t.html">apr_vformatter_buff_t</a> </dd></dl>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga241e929df23aede34eb3f2651cf56bc9"></a><!-- doxytag: member="apr_lib.h::apr_filepath_name_get" ref="ga241e929df23aede34eb3f2651cf56bc9" args="(const char *pathname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* apr_filepath_name_get </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>pathname</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>return the final element of the pathname </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pathname</em>&nbsp;</td><td>The path to get the final element of </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the final element of the path </dd></dl>
<dl class="remark"><dt><b>Remarks:</b></dt><dd><pre>
 For example:
                 "/foo/bar/gum"    -&gt; "gum"
                 "/foo/bar/gum/"   -&gt; ""
                 "gum"             -&gt; "gum"
                 "bs\\path\\stuff" -&gt; "stuff"
 </pre> </dd></dl>

</div>
</div>
<a class="anchor" id="ga377e0677598745769ec6f80fecf8f859"></a><!-- doxytag: member="apr_lib.h::apr_password_get" ref="ga377e0677598745769ec6f80fecf8f859" args="(const char *prompt, char *pwbuf, apr_size_t *bufsize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaf76ee4543247e9fb3f3546203e590a6c">apr_status_t</a> apr_password_get </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>prompt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>pwbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">apr_size_t *&nbsp;</td>
          <td class="paramname"> <em>bufsize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Display a prompt and read in the password from stdin. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>prompt</em>&nbsp;</td><td>The prompt to display </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pwbuf</em>&nbsp;</td><td>Buffer to store the password </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bufsize</em>&nbsp;</td><td>The length of the password buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="remark"><dt><b>Remarks:</b></dt><dd>If the password entered must be truncated to fit in the provided buffer, APR_ENAMETOOLONG will be returned. Note that the bufsize paramater is passed by reference for no reason; its value will never be modified by the <a class="el" href="group__apr__lib.html#ga377e0677598745769ec6f80fecf8f859">apr_password_get()</a> function. </dd></dl>

</div>
</div>
<a class="anchor" id="gad2cd3594aeaafd45931d1034965f48c1"></a><!-- doxytag: member="apr_lib.h::apr_vformatter" ref="gad2cd3594aeaafd45931d1034965f48c1" args="(int(*flush_func)(apr_vformatter_buff_t *b), apr_vformatter_buff_t *c, const char *fmt, va_list ap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int apr_vformatter </td>
          <td>(</td>
          <td class="paramtype">int(*)(<a class="el" href="structapr__vformatter__buff__t.html">apr_vformatter_buff_t</a> *b)&nbsp;</td>
          <td class="paramname"> <em>flush_func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structapr__vformatter__buff__t.html">apr_vformatter_buff_t</a> *&nbsp;</td>
          <td class="paramname"> <em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list&nbsp;</td>
          <td class="paramname"> <em>ap</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="group__apr__lib.html#gad2cd3594aeaafd45931d1034965f48c1">apr_vformatter()</a> is a generic printf-style formatting routine with some extensions. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>flush_func</em>&nbsp;</td><td>The function to call when the buffer is full </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>c</em>&nbsp;</td><td>The buffer to write to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fmt</em>&nbsp;</td><td>The format string </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ap</em>&nbsp;</td><td>The arguments to use to fill out the format string.</td></tr>
  </table>
  </dd>
</dl>
<dl class="remark"><dt><b>Remarks:</b></dt><dd><pre>
 The extensions are:</pre></dd></dl>
<p>%pA takes a struct <a class="el" href="structin__addr.html">in_addr</a> *, and prints it as a.b.c.d %pI takes an <a class="el" href="structapr__sockaddr__t.html">apr_sockaddr_t</a> * and prints it as a.b.c.d:port or [ipv6-address]:port %pT takes an apr_os_thread_t * and prints it in decimal ('0' is printed if !APR_HAS_THREADS) %pt takes an apr_os_thread_t * and prints it in hexadecimal ('0' is printed if !APR_HAS_THREADS) %pm takes an apr_status_t * and prints the appropriate error string (from apr_strerror) corresponding to that error code. %pp takes a void * and outputs it in hex %pB takes a apr_uint32_t * as bytes and outputs it's apr_strfsize %pF same as above, but takes a apr_off_t * %pS same as above, but takes a apr_size_t *</p>
<pre> %pt is only available from APR 1.2.0 onwards.
 %pm, %pB, %pF and %pS are only available from APR 1.3.0 onwards.</pre><pre> The %p hacks are to force gcc's printf warning code to skip
 over a pointer argument without complaining.  This does
 mean that the ANSI-style %p (output a void * in hex format) won't
 work as expected at all, but that seems to be a fair trade-off
 for the increased robustness of having printf-warnings work.</pre><pre> Additionally, apr_vformatter allows for arbitrary output methods
 using the apr_vformatter_buff and flush_func.</pre><pre> The apr_vformatter_buff has two elements curpos and endpos.
 curpos is where apr_vformatter will write the next byte of output.
 It proceeds writing output to curpos, and updating curpos, until
 either the end of output is reached, or curpos == endpos (i.e. the
 buffer is full).</pre><pre> If the end of output is reached, apr_vformatter returns the
 number of bytes written.</pre><pre> When the buffer is full, the flush_func is called.  The flush_func
 can return -1 to indicate that no further output should be attempted,
 and apr_vformatter will return immediately with -1.  Otherwise
 the flush_func should flush the buffer in whatever manner is
 appropriate, re apr_pool_t nitialize curpos and endpos, and return 0.</pre><pre> Note that flush_func is only invoked as a result of attempting to
 write another byte at curpos when curpos &gt;= endpos.  So for
 example, it's possible when the output exactly matches the buffer
 space available that curpos == endpos will be true when
 apr_vformatter returns.</pre><pre> apr_vformatter does not call out to any other code, it is entirely
 self-contained.  This allows the callers to do things which are
 otherwise "unsafe".  For example, apr_psprintf uses the "scratch"
 space at the unallocated end of a block, and doesn't actually
 complete the allocation until apr_vformatter returns.  apr_psprintf
 would be completely broken if apr_vformatter were to call anything
 that used this same pool.  Similarly http_bprintf() uses the "scratch"
 space at the end of its output buffer, and doesn't actually note
 that the space is in use until it either has to flush the buffer
 or until apr_vformatter returns.
 </pre> 
</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.2 </small></address>
</body>
</html>
