<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head xmlns="http://www.w3.org/1999/xhtml">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title xmlns="">Jabber Instant Messaging Server</title>
    <link rel="stylesheet" href="../../libs/ubuntu-book.css" type="text/css" />
    <link rel="home" href="index.html" title="Ubuntu Server Guide" />
    <link rel="up" href="chat-servers.html" title="Chapter 15. Chat Applications" />
    <link rel="prev" href="irc-server.html" title="IRC Server" />
    <link rel="next" href="version-control-system.html" title="Chapter 16. Version Control System" />
    <link rel="copyright" href="legal.html" title="Credits and License" />
  </head>
  <body>
    <div id="round">
      <img id="topcap" alt="" src="https://help.ubuntu.com/htdocs/ubuntunew/img/cap-top.png" />
      <div id="layout" class="container clear-block">
        <script xmlns="" src="https://ssl.google-analytics.com/urchin.js" type="text/javascript"></script>
        <script xmlns="" type="text/javascript">
_uacct = "UA-1018242-8";
urchinTracker();
</script>
        <div id="header">
          <div id="logo-floater">
            <h1>
              <a href="https://help.ubuntu.com" title="Ubuntu Documentation">
                <img alt="Ubuntu" id="logo" src="https://help.ubuntu.com/htdocs/ubuntunew/img/logo.png" />
              </a>
            </h1>
          </div>
          <noscript>
            <form action="http://www.google.com/cse" id="cse-search-box">
              <div>
                <input type="hidden" name="cx" value="004599128559784038176:vj_p0xo-nng" />
                <input type="hidden" name="ie" value="UTF-8" />
                <input type="text" name="q" size="27" />
                <input type="submit" name="sa" value="Search" />
              </div>
            </form>
          </noscript>
          <script>
 document.write('<form action="https://help.ubuntu.com/search.html" id="cse-search-box">');
 document.write('  <div>');
 document.write('    <input type="hidden" name="cof" value="FORID:9" />');
 document.write('    <input type="hidden" name="cx" value="004599128559784038176:vj_p0xo-nng" />');
 document.write('    <input type="hidden" name="ie" value="UTF-8" />');
 document.write('    <input type="text" name="q" size="27" />');
 document.write('    <input type="submit" name="sa" value="Search" />');
 document.write('  </div>');
 document.write('</form>');
</script>
          <div id="sitename">
            <a href="https://help.ubuntu.com/">
              <img alt="Official Documentation" src="https://help.ubuntu.com/htdocs/ubuntunew/img/help-about.png" />
              <span>Official Documentation</span>
            </a>
          </div>
        </div>
        <div id="page">
          <div id="content">
            <div class="breadcrumbs"><a href="https://help.ubuntu.com/">Ubuntu Documentation</a> &gt; <a href="https://help.ubuntu.com/10.04">Ubuntu 10.04</a> &gt; <span class="breadcrumb-link"><a href="index.html">Ubuntu Server Guide</a></span> &gt; <span class="breadcrumb-link"><a href="chat-servers.html">Chat Applications</a></span> &gt; <span class="breadcrumb-node">Jabber Instant Messaging Server</span></div>
            <div xmlns="http://www.w3.org/1999/xhtml" class="sect1" title="Jabber Instant Messaging Server">
              <div class="titlepage">
                <div>
                  <div>
                    <h2 class="title" style="clear: both"><a id="jabberd2-server"></a>Jabber Instant Messaging Server</h2>
                  </div>
                </div>
              </div>
              <p>
    <span class="emphasis"><em>Jabber</em></span> a popular instant message protocol is based on XMPP, an open standard for instant messaging, and
    used by many popular applications.  This section covers setting up a <span class="emphasis"><em>Jabberd 2</em></span> server on a local LAN.  
    This configuration can also be adapted to providing messaging services to users over the Internet.
    </p>
              <div class="sect2" title="Installation">
                <div class="titlepage">
                  <div>
                    <div>
                      <h3 class="title"><a id="jabberd2-installation"></a>Installation</h3>
                    </div>
                  </div>
                </div>
                <p>
      To install <span class="application"><strong>jabberd2</strong></span>, in a terminal enter:
      </p>
                <pre class="screen">
<span class="command"><strong>sudo apt-get install jabberd2</strong></span>
</pre>
              </div>
              <div class="sect2" title="Configuration">
                <div class="titlepage">
                  <div>
                    <div>
                      <h3 class="title"><a id="jabberd2-configuration"></a>Configuration</h3>
                    </div>
                  </div>
                </div>
                <p>
    A couple of XML configuration files will be used to configure <span class="application"><strong>jabberd2</strong></span> for 
    <span class="emphasis"><em>Berkely DB</em></span> user authentication.  This is a very simple form of authentication.  However,
    <span class="application"><strong>jabberd2</strong></span> can be configured to use LDAP, MySQL, Postgresql, etc for 
    for user authentication.
    </p>
                <p>
    First, edit <code class="filename">/etc/jabberd2/sm.xml</code> changing:
    </p>
                <pre class="programlisting">
  &lt;id&gt;jabber.example.com&lt;/id&gt;
</pre>
                <div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;">
                  <table border="0" summary="Note">
                    <tr>
                      <td rowspan="2" align="center" valign="top" width="25">
                        <img alt="[Note]" src="../../libs/admon/note.png" />
                      </td>
                      <th align="left"></th>
                    </tr>
                    <tr>
                      <td align="left" valign="top">
                        <p>
      Replace <span class="emphasis"><em>jabber.example.com</em></span> with the hostname, or other id, of your server.  
      </p>
                      </td>
                    </tr>
                  </table>
                </div>
                <p>
    Now in the &lt;storage&gt; section change the &lt;driver&gt; to:
    </p>
                <pre class="programlisting">
   &lt;driver&gt;db&lt;/driver&gt;
</pre>
                <p>
    Next, edit <code class="filename">/etc/jabberd2/c2s.xml</code> in the <span class="emphasis"><em>&lt;local&gt;</em></span> section change: 
    </p>
                <pre class="programlisting">
    &lt;id&gt;jabber.example.com&lt;/id&gt;
</pre>
                <p>
    And in the &lt;authreg&gt; section adjust the &lt;module&gt; section to:
    </p>
                <pre class="programlisting">
    &lt;module&gt;db&lt;/module&gt;
</pre>
                <p>
    Finally, restart <span class="application"><strong>jabberd2</strong></span> to enable the new settings:
    </p>
                <pre class="screen">
<span class="command"><strong>sudo /etc/init.d/jabberd2 restart</strong></span>
</pre>
                <p>
  You should now be able to connect to the server using a Jabber client like <span class="application"><strong>Pidgin</strong></span> for example.
  </p>
                <div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;">
                  <table border="0" summary="Note">
                    <tr>
                      <td rowspan="2" align="center" valign="top" width="25">
                        <img alt="[Note]" src="../../libs/admon/note.png" />
                      </td>
                      <th align="left"></th>
                    </tr>
                    <tr>
                      <td align="left" valign="top">
                        <p>
    The advantage of using Berkeley DB for user data is that after being configured no additional maintenance is required.  If you need
    more control over user accounts and credentials another authentication method is recommended.
    </p>
                      </td>
                    </tr>
                  </table>
                </div>
              </div>
              <div class="sect2" title="References">
                <div class="titlepage">
                  <div>
                    <div>
                      <h3 class="title"><a id="jabberd2-references"></a>References</h3>
                    </div>
                  </div>
                </div>
                <div class="itemizedlist">
                  <ul class="itemizedlist" type="disc">
                    <li class="listitem">
                      <p>
        The <a class="ulink" href="http://codex.xiaoka.com/wiki/jabberd2:start" target="_top">Jabberd2 Web Site</a> contains more details on configuring 
        <span class="application"><strong>Jabberd2</strong></span>.
        </p>
                    </li>
                    <li class="listitem">
                      <p>
        For more authentication options see the <a class="ulink" href="http://jabberd2.xiaoka.com/wiki/InstallGuide" target="_top">Jabberd2 Install Guide</a>.
        </p>
                    </li>
                    <li class="listitem">
                      <p>
        Also, the <a class="ulink" href="https://help.ubuntu.com/community/SettingUpJabberServer" target="_top">Setting Up Jabber Server Ubuntu Wiki</a> page 
        has more information.
        </p>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
          <div xmlns="http://www.w3.org/1999/xhtml" class="navfooter">
            <hr />
            <table width="100%" summary="Navigation footer">
              <tr>
                <td width="40%" align="left"><a accesskey="p" href="irc-server.html"><img src="../../libs/navig/prev.png" alt="Prev" /></a> </td>
                <td width="20%" align="center">
                  <a accesskey="u" href="chat-servers.html">
                    <img src="../../libs/navig/up.png" alt="Up" />
                  </a>
                </td>
                <td width="40%" align="right"> <a accesskey="n" href="version-control-system.html"><img src="../../libs/navig/next.png" alt="Next" /></a></td>
              </tr>
              <tr>
                <td width="40%" align="left" valign="top">IRC Server </td>
                <td width="20%" align="center">
                  <a accesskey="h" href="index.html">
                    <img src="../../libs/navig/home.png" alt="Home" />
                  </a>
                </td>
                <td width="40%" align="right" valign="top"> Chapter 16. Version Control System</td>
              </tr>
            </table>
          </div>
          <hr />
          <div id="footer">
            <div id="ubuntulinks">
              <p>The material in this document is available under a free license, see <a href="/legal.html">Legal</a> for details<br />
	For information on contributing see the <a href="https://wiki.ubuntu.com/DocumentationTeam">Ubuntu Documentation Team wiki page</a>. To report a problem, visit the <a href="https://bugs.launchpad.net/ubuntu/+source/ubuntu-docs">bug page for Ubuntu Documentation</a></p>
            </div>
          </div>
          <div id="bottomcap">
            <img src="https://help.ubuntu.com/htdocs/ubuntunew/img/cap-bottom.png" alt="" />
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
